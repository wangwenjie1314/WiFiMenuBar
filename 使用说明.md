# WiFi状态栏应用使用说明

## 功能介绍

这是一个简化版的WiFi状态栏应用，专门为您的需求定制：
- 在Mac顶部状态栏实时显示当前连接的WiFi名称
- 自动检测WiFi连接变化并更新显示
- 完全后台运行，不在Dock中显示，不占用控制台窗口
- 静默启动，无控制台输出
- 简单的右键菜单，包含刷新和退出选项
- 只有关机或手动退出才会关闭

## 启动方法

### 方法一：使用启动脚本（推荐）

1. 打开终端
2. 进入项目目录：
   ```bash
   cd /Users/wangwenjie/Documents/ai/WiFiMenuBar
   ```
3. 运行启动脚本：
   ```bash
   ./start_wifi_menubar.sh
   ```

启动脚本会自动：
- 检查应用是否已在运行（避免重复启动）
- 如果需要，自动编译应用
- 在后台静默启动应用
- 确认应用成功启动

### 方法二：直接后台运行

1. 打开终端
2. 进入项目目录：
   ```bash
   cd /Users/wangwenjie/Documents/ai/WiFiMenuBar
   ```
3. 如果还没有编译，先编译：
   ```bash
   swiftc -framework Cocoa -framework CoreWLAN -framework Network SimpleWiFiMenuBar.swift -o SimpleWiFiMenuBar
   ```
4. 后台运行应用：
   ```bash
   nohup ./SimpleWiFiMenuBar > /dev/null 2>&1 &
   ```

## 使用方法

1. 启动后，您会在Mac屏幕右上角的状态栏看到"WiFi: [您的WiFi名称]"
2. 点击状态栏图标可以看到简单菜单：
   - 当前WiFi：显示当前连接的WiFi名称
   - 刷新：手动刷新WiFi状态
   - 退出：关闭应用

## 停止应用

### 方法一：使用停止脚本（推荐）

```bash
./stop_wifi_menubar.sh
```

### 方法二：通过状态栏菜单

- 点击状态栏图标，选择"退出"

### 方法三：手动终止进程

```bash
pkill -f SimpleWiFiMenuBar
```

## 注意事项

- 应用需要访问WiFi信息的权限，首次运行时系统可能会询问权限
- 应用会在后台持续运行，监控WiFi状态变化，完全静默无输出
- 如果WiFi连接发生变化，状态栏显示会自动更新
- 应用不会占用控制台窗口，启动后可以关闭终端
- 只有关机或手动退出才会关闭应用

## 检查应用状态

查看应用是否在运行：
```bash
ps aux | grep SimpleWiFiMenuBar | grep -v grep
```

## 文件说明

- `SimpleWiFiMenuBar.swift`：应用源代码
- `SimpleWiFiMenuBar`：编译后的可执行文件
- `start_wifi_menubar.sh`：启动脚本（自动检测、编译、后台启动）
- `stop_wifi_menubar.sh`：停止脚本（安全停止应用）
- `使用说明.md`：本说明文档